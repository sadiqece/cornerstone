<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>

<!-- ===================== This is location form layout =============================-->

	<record id="test_listing_page_form" model="ir.ui.view">
		<field name="name">test.listing.page.form</field>
		<field name="model">test.info</field>
		<field name="arch" type="xml">
			<form string="Calendar" version="7.0">
			<sheet>
				<group>
					<group class="oe_title" style="width:350px;">
						<h2 style="width:280px;">
							<field name = "test_code"  readonly="1" attrs="{'invisible':[('test_code','=','Holiday')]}"/>
							<field name = "name"  readonly="1" attrs="{'invisible':[('test_code','!=','Holiday')]}"/>
						</h2>
					</group>
					<div class="col-35">
						<group>
							<div class="col-2" style="margin:0px;">
								<div class="openerp oe_form_readonly test_learner_1 ">
								  <div class="test_no_learners_1">No. of Learner</div>
								  <div class="clear" />
								  <div class="test_learner_box_1">
									<field name = "actual_number" />
								  </div>
								</div>
							</div>
							<group col="4">
								<div attrs="{'invisible': [('test_status_display_1', 'in' ,('Open', 'Closed', 'Completed', 'Cancelled', 'Postponed', 'False'))]}">
									<div id="div_status1" class="openerp oe_form_readonly test_status_box_2">
										<div class="test_status_box_label_2 ">Status</div>
										<div class="test_status_box_status_2">
											<field name="test_status_display_1" readline="1" />
										</div>
										<div class="test_status_box_date_2">
											<field name="date5" />
										</div>
									</div>
								</div>

								<div attrs="{'invisible': [('test_status_display_2', 'in' , ('Closed', 'Cancelled', 'Completed', 'Postponed', 'False'))]}">
									<div id="div_status2" class="openerp oe_form_readonly test_status_box">
										<div class="test_status_box_label">Status</div>
										<div class="test_status_box_status">
											<field name="test_status_display_2" readline="1" />
										</div>
										<div class="test_status_box_date">
											<field name="date4" />
										</div>
									</div>
								</div>

								<div attrs="{'invisible': [('test_status_display_3', 'in' ,('Open', 'Closed', 'Completed', 'False'))]}">
									<div id="div_status1" class="openerp oe_form_readonly test_status_box_1">
										<div class="test_status_box_label_1 ">Status</div>
										<div class="test_status_box_status_1">
											<field name="test_status_display_3" readline="1" />
										</div>
										<div class="test_status_box_date_1">
											<field name="date3" />
										</div>
									</div>
								</div>

								<div attrs="{'invisible': [('test_status_display_4', 'in' ,('Open', 'Cancelled', 'Completed', 'Postponed', 'False'))]}">
									<div id="div_status1" class="openerp oe_form_readonly test_status_box_3">
										<div class="test_status_box_label_3 ">Status</div>
										<div class="test_status_box_status_3">
											<field name="test_status_display_4" readline="1" />
										</div>
										<div class="test_status_box_date_3">
											<field name="date2" />
										</div>
									</div>
								</div>

								<div attrs="{'invisible': [('test_status_display_5', 'in' ,('Open', 'Cancelled', 'Closed', 'Postponed', 'False'))]}">
									<div id="div_status1" class="openerp oe_form_readonly test_status_box_4">
										<div class="test_status_box_label_4 ">Status</div>
										<div class="test_status_box_status_4">
											<field name="test_status_display_5" readline="1" />
										</div>
										<div class="test_status_box_date_4">
											<field name="date1" />
										</div>
									</div>
								</div>
							</group>
						</group>
					</div>
				</group>

				<div class="col-3">
					<label for="location_id" />
					<field name="location_id" options="{'create': False, 'create_edit': False}" on_change="on_change_location_id(location_id)" />
				</div>
				<div class="col-3">
					<label for="room_id" />
					<field name="room_id" options="{'create': False, 'create_edit': False}" domain="[('location_id','=',location_id)]"/>
				</div>
				<div class="col-3">
					<label for="test_status" />
					<field name="test_status" />
				</div>

				<div class="clear" />

				<div class="col-3">
					<label for="max_modality" />
					<field name="max_modality"/>
				</div>
				<div class="col-3">
					<label for="min_modality" />
					<field name="min_modality"/>
				</div>
				<div class="col-3">
					<label for="max_people" />
					<field name="max_people"/>
				</div>

				<div class="clear" />

				<div class="col-3">
					<label for="start_date" />
					<field name="start_date" on_change="onchange_dates(start_date,duration,False)"/>
				</div>
				<div class="col-3">
					<label for="duration" />
					<field name="duration" on_change="onchange_dates(start_date,duration,False)"/>
				</div>
				<div class="col-3">
					<label for="end_date" />
					<field name="end_date" readonly="1"/>
				</div>


				<notebook colspan="5" col="10">
					<page string="Learner">
						<h2>
							<label for="learner" class="oe_edit_only"/>
						</h2>
						<field name='learner_line' nolabel='1'>
							<tree string='List' editable="bottom">
								<field name='learner_mod_id' invisible ="1" />
								<field name='learner_id'  on_change="on_change_learner_id(learner_id,context)" />
								<field name='learner_nric'/>
								<field name='learner_non_nric'/>
								<field name='module_id' options="{'create': False, 'create_edit': False}"/>
								<field name='modality' options="{'create': False, 'create_edit': False}" string="Modalities"/>
								<field name='modality_cost'/>
								<field name='class_code'/>
								<field name='compliance_code'/>
								<field name='level'/>
								<field name='attendance'/>
								<button  name="view_learner_modality"  string="Add Modality" type="object" icon="view_modalities"/>
								</tree>
						</field>
					</page>
					<page string="Scores">
						<h2>
							<label for="test_scores" class="oe_edit_only"/>
						</h2>
						<field name='test_scores' nolabel='1'>
								<tree string='List' create="false" delete="false">
									<field name='learner_id' />
									<field name='learner_nric'/>
									<button  name="view_scores"  string="View Scores" type="object" icon="view_modalities"/>
								</tree>
						</field>
					</page>
				</notebook>
			</sheet>
			</form>
		</field>
	</record>

	<record id="scores_form" model="ir.ui.view">
            <field name="name">test.scores.form</field>
            <field name="model">test.scores</field>
		    <field name="arch" type="xml">
                <form string="Score Form" version="7.0">
					<sheet>
					<group>
					<field name='learner_id' readonly="1"/>
					</group>
					<group col="2">
						<field name='compr' string="Comprehensive"/>
						<field name='conv' string="Conventional"/>
					</group>
					<group col="2">
						<group col ="2">
							<field name='r_level'/>
							<field name='l_level'/>
								<field name='s_level'/>
								<field name='w_level'/>
								<field name='n_level'/>
						</group>
						<group col ="2">
							<field name='r_scores'/>
							<field name='l_scores'/>
							<field name='s_scores'/>
							<field name='w_scores'/>
							<field name='n_scores'/>
						</group>

					</group>
					<button  name="save_scores"  string="Save" type="object"/>
					<button  name="cancel_scores"  string="Cancel" type="object"/>
					</sheet>
				</form>
            </field>
        </record>

	<record id="learner_modality_form" model="ir.ui.view">
            <field name="name">test.learner.form</field>
            <field name="model">test.learner</field>
		    <field name="arch" type="xml">
                <form string="Modality Form" version="7.0">
					<sheet>
					<group>
					<field name='learner_id' readonly="1"/>
					</group>
					<group col="2">
						<group col ="4">
							<field name='reading'/>
							<field name='listening'/>
							<field name='speaking'/>
							<field name='writing'/>
							<field name='numeracy'/>
						</group>
					</group>
					<button  name="save_modality"  string="Save" type="object"/>
					<button  name="cancel_modality"  string="Cancel" type="object"/>
					</sheet>
				</form>
            </field>
        </record>


	<!-- ========================= Action Layout ============================= -->


	<record id="test_listing_page_tree" model="ir.ui.view">
            <field name="name">test.listing.page.tree</field>
            <field name="model">test.info</field>
            <field name="arch" type="xml">
                <tree string="Calendar">
					<field name = "test_code"/>
					<field name = "start_date" string="Start Date &amp; Time"/>
					<field name = "duration"/>
					<field name = "actual_number" />
                </tree>
            </field>
        </record>

		<!-- Event calendar view -->
        <record model="ir.ui.view" id="event_calendar_view">
            <field name="name">test.listing.page.calendar</field>
            <field name="model">test.info</field>
			<field name="priority" eval="2"/>
            <field name="arch" type="xml">
                <calendar string="Calendar" date_start="start_date" color="test_code" date_stop="end_date">
                    <field name= "name"/>
                    <field name= "class_info"/>
                    <field name= "test_code"/>
					<field name = "start_date"/>
					<field name = "end_date"/>
					<field name = "actual_number" />
                </calendar>
            </field>
        </record>

		<record id="view_test_listing_filter" model="ir.ui.view">
            <field name="name">Test Listing Page</field>
            <field name="model">test.info</field>
            <field name="arch" type="xml">
                <search string="Test Scheduling">

	           </search>
            </field>
        </record>

		<record model="ir.actions.act_window" id="action_test_listing_page">
            <field name="name">Test Listing</field>
			<field name="type">ir.actions.act_window</field>
            <field name="res_model">test.info</field>
            <field name="view_type">form</field>
            <field name="view_mode">calendar,tree,form</field>
			<field name="view_id" ref="test_listing_page_tree"/>
			<field name="search_view_id" ref="view_test_listing_filter"/>
		    <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to define a new test schedule.
              </p>
            </field>
        </record>

<menuitem name = "Test Calendar" id = "test_listing_page" parent = "menu_sub3" action = "action_test_listing_page" />


</data>
</openerp>
